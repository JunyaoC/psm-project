(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fe94ba6"],{"06c5":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3");var n=r("6b75");function a(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(e,t):void 0}}},"2f56":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),a=Object(n["Y"])("data-v-b2d46934");Object(n["C"])("data-v-b2d46934");var o={class:"page-wrapper"},i={style:{display:"flex","align-items":"center",padding:"1rem 0"}},s=Object(n["j"])("h1",{style:{margin:"0",padding:"0","margin-right":"1rem"}},"Proposals",-1),c={key:0,class:"proposalWrapper"},u={style:{display:"flex",width:"100","justify-content":"space-between","align-items":"center",padding:"0.5rem","padding-top":"1rem"}},l={style:{"font-weight":"900","font-size":"1.2rem"}},d={style:{"font-size":"0.8rem",padding:"0 0.5rem"}},p={style:{padding:"1rem 0.5rem 0 0.5rem",display:"flex","justify-content":"flex-start","align-items":"center"}},f={key:0,style:{width:"1rem",height:"1rem","border-radius":"50%",background:"#ff4f4f","margin-right":"0.5rem"}},v={key:1,style:{width:"1rem",height:"1rem","border-radius":"50%",background:"#4f55ff","margin-right":"0.5rem"}},b={key:2,style:{width:"1rem",height:"1rem","border-radius":"50%",background:"#55cf73","margin-right":"0.5rem"}},j={key:3,style:{width:"1rem",height:"1rem","border-radius":"50%",background:"#ffd059","margin-right":"0.5rem"}},h={style:{"font-size":"0.8rem","font-weight":"900"}},O={style:{width:"100%",padding:"5px","border-radius":"10px",background:"#f0f0f0",margin:"1rem 0"}},y={style:{width:"100%","table-layout":"fixed"}},g=Object(n["j"])("tr",null,[Object(n["j"])("td",{style:{"font-size":"0.8rem"}},"student"),Object(n["j"])("td",{style:{"font-size":"0.8rem"}},"supervisor"),Object(n["j"])("td",{style:{"font-size":"0.8rem"},colspan:"2"},"evaluator")],-1),m={key:0,style:{padding:"0 20px 0 0"}},w={key:1,style:{padding:"0 20px 0 0"}},x={style:{padding:"0 20px 0 0",display:"flex","justify-content":"flex-start","align-items":"center"}},E=Object(n["j"])("div",{style:{"text-align":"right","font-weight":"900","font-size":"0.8rem",color:"rgba(0, 0, 0, 0.5)"}},[Object(n["j"])("span",null,"Click to View")],-1),S={key:1},_={class:"mainTable"},k=Object(n["j"])("tr",null,[Object(n["j"])("th",null,"Title"),Object(n["j"])("th",null,"Type"),Object(n["j"])("th",null,"Subject"),Object(n["j"])("th",null,"Student"),Object(n["j"])("th",null,"Session"),Object(n["j"])("th",null,"Semester"),Object(n["j"])("th",null,"Supervisor"),Object(n["j"])("th",null,"Evaluators")],-1),A=Object(n["j"])("td",null,"-",-1);Object(n["A"])();var z=a((function(e,t,r,z,P,R){var M=Object(n["H"])("it-toggle"),T=Object(n["H"])("it-tag"),U=Object(n["H"])("it-avatar"),C=Object(n["H"])("it-tooltip");return Object(n["z"])(),Object(n["f"])("div",o,[Object(n["j"])("div",i,[s,Object(n["j"])(M,{modelValue:P.viewMode,"onUpdate:modelValue":t[1]||(t[1]=function(e){return P.viewMode=e}),options:["Grid","List"]},null,8,["modelValue"])]),"Grid"==P.viewMode?(Object(n["z"])(),Object(n["f"])("div",c,[(Object(n["z"])(!0),Object(n["f"])(n["a"],null,Object(n["F"])(P.proposals,(function(e){return Object(n["z"])(),Object(n["f"])("div",{key:e,onClick:function(t){return R.viewProposal(e)},class:"proposalDiv"},[Object(n["j"])("div",u,[Object(n["j"])("span",l,Object(n["M"])(e.title),1),Object(n["j"])(T,null,{default:a((function(){return[Object(n["i"])(Object(n["M"])(e.type),1)]})),_:2},1024)]),Object(n["j"])("span",d,Object(n["M"])(e.subject?e.subject.name:"-"),1),Object(n["j"])("div",p,[0==e.status?(Object(n["z"])(),Object(n["f"])("div",f)):Object(n["g"])("",!0),2==e.status?(Object(n["z"])(),Object(n["f"])("div",v)):Object(n["g"])("",!0),3==e.status?(Object(n["z"])(),Object(n["f"])("div",b)):Object(n["g"])("",!0),1==e.status?(Object(n["z"])(),Object(n["f"])("div",j)):Object(n["g"])("",!0),Object(n["j"])("span",h,Object(n["M"])(e.status_text),1)]),Object(n["j"])("div",O,[Object(n["j"])("table",y,[g,Object(n["j"])("tr",null,[e.owner?(Object(n["z"])(),Object(n["f"])("td",m,[Object(n["j"])(C,{content:e.owner.name+" (Sem"+e.owner.semester+")",placement:"top"},{default:a((function(){return[Object(n["j"])(U,{size:"30px",src:e.owner.avatar},null,8,["src"])]})),_:2},1032,["content"])])):Object(n["g"])("",!0),e.supervisor?(Object(n["z"])(),Object(n["f"])("td",w,[Object(n["j"])(C,{content:e.supervisor.name,placement:"top"},{default:a((function(){return[Object(n["j"])(U,{size:"30px",src:e.supervisor.avatar},null,8,["src"])]})),_:2},1032,["content"])])):Object(n["g"])("",!0),Object(n["j"])("td",x,[(Object(n["z"])(!0),Object(n["f"])(n["a"],null,Object(n["F"])(e.evaluator,(function(e){return Object(n["z"])(),Object(n["f"])(C,{content:e.name,placement:"top",key:e,style:{"flex-shrink":"0","margin-right":"15px"}},{default:a((function(){return[Object(n["j"])(U,{size:"30px",src:e.avatar},null,8,["src"])]})),_:2},1032,["content"])})),128))])])])]),E],8,["onClick"])})),128))])):Object(n["g"])("",!0),"List"==P.viewMode?(Object(n["z"])(),Object(n["f"])("div",S,[Object(n["j"])("table",_,[k,(Object(n["z"])(!0),Object(n["f"])(n["a"],null,Object(n["F"])(P.proposals,(function(e){return Object(n["z"])(),Object(n["f"])("tr",{key:e,onClick:function(t){return R.viewProposal(e)}},[Object(n["j"])("td",null,Object(n["M"])(e.title),1),Object(n["j"])("td",null,Object(n["M"])(e.type),1),Object(n["j"])("td",null,Object(n["M"])(e.subject?e.subject.name:"-"),1),Object(n["j"])("td",null,Object(n["M"])(e.owner?e.owner.name:"-"),1),Object(n["j"])("td",null,Object(n["M"])(e.session?e.session.name:"-"),1),Object(n["j"])("td",null,Object(n["M"])(e.owner?e.owner.semester:"-"),1),Object(n["j"])("td",null,Object(n["M"])(e.supervisor?e.supervisor.name:"-"),1),A],8,["onClick"])})),128))])])):Object(n["g"])("",!0)])})),P=r("b85c"),R=r("5530"),M=(r("4ec9"),r("d3b7"),r("3ca3"),r("ddb0"),r("159b"),r("8bdb")),T="http://185.185.40.33:3000",U={name:"ProposalList",mounted:function(){this.fetchProposals()},data:function(){return{proposals:[],viewMode:"Grid"}},methods:{fetchProposals:function(){var e=this,t=M["a"].session(),r=new Map;3==this.$store.state.user.level&&t.run("MATCH p = (:Proposal)-[*1..1]-(), p2 = (:Proposal)<-[:PROPOSAL_OWNER]-()-[:STUDENT_OF]->(:Session) RETURN p, p2",{uid:this.$store.state.user.uid}).then((function(n){var a;n.records.forEach((function(e){var t=e.get("p");a=r.has(t.start.properties.uid)?r.get(t.start.properties.uid):Object(R["a"])({},t.start.properties),t.segments.forEach((function(e){if("SUPERVISES"==e.relationship.type&&(a["supervisor"]=e.end.properties,delete a["supervisor"]["password"],a.supervisor.avatar="".concat(T,"/media/avatar_").concat(a.supervisor.uid,".png")),"EVALUATES"==e.relationship.type){a.evaluator||(a.evaluator=[]);var t,r=!1,n=Object(P["a"])(a.evaluator);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.uid==e.end.properties.uid&&(r=!0)}}catch(s){n.e(s)}finally{n.f()}if(!r){var i=e.end.properties;delete i["password"],i.avatar="".concat(T,"/media/avatar_").concat(i.uid,".png"),a.evaluator.push(i)}}"PROPOSAL_SUBJECT"==e.relationship.type&&(a["subject"]=e.end.properties),"PROPOSAL_OWNER"==e.relationship.type&&(a["owner"]=e.end.properties,delete a["owner"]["password"],a.owner.avatar="".concat(T,"/media/avatar_").concat(a.owner.uid,".png"))})),e.get("p2").segments.forEach((function(e){"STUDENT_OF"==e.relationship.type&&(a["session"]=e.end.properties),"PROPOSAL_OWNER"==e.relationship.type&&(a["owner"]=e.end.properties,delete a["owner"]["password"],a.owner.avatar="".concat(T,"/media/avatar_").concat(a.owner.uid,".png"))})),r.set(t.start.properties.uid,a)})),r.forEach((function(t,r){switch(t.status){case 0:t.type_color="danger",t.status_text="Rejected";break;case 1:t.status_text="Pending Evaluation";break;case 2:t.type_color="warning",t.status_text="Accepted with Condition";break;case 3:t.type_color="success",t.status_text="Accepted";break}e.proposals.push(Object(R["a"])({},t))})),console.log(e.proposals),t.close()})),2==this.$store.state.user.level&&t.run("MATCH self_p = (u:User {uid:$uid})-[]-(proposal:Proposal), p = (proposal)-[*1..1]-(), p2 = (proposal:Proposal)<-[:PROPOSAL_OWNER]-()-[:STUDENT_OF]->(:Session), return self_p,p,p2",{uid:this.$store.state.user.uid}).then((function(n){var a;n.records.forEach((function(e){var t=e.get("p");a=r.has(t.start.properties.uid)?r.get(t.start.properties.uid):Object(R["a"])({},t.start.properties),t.segments.forEach((function(e){if("SUPERVISES"==e.relationship.type&&(a["supervisor"]=e.end.properties,delete a["supervisor"]["password"],a.supervisor.avatar="".concat(T,"/media/avatar_").concat(a.supervisor.uid,".png")),"PROPOSAL_SUBJECT"==e.relationship.type&&(a["subject"]=e.end.properties),"PROPOSAL_OWNER"==e.relationship.type&&(a["owner"]=e.end.properties,delete a["owner"]["password"],a.owner.avatar="".concat(T,"/media/avatar_").concat(a.owner.uid,".png")),"EVALUATES"==e.relationship.type){a.evaluator||(a.evaluator=[]);var t,r=!1,n=Object(P["a"])(a.evaluator);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.uid==e.end.properties.uid&&(r=!0)}}catch(s){n.e(s)}finally{n.f()}if(!r){var i=e.end.properties;delete i["password"],i.avatar="".concat(T,"/media/avatar_").concat(i.uid,".png"),a.evaluator.push(i)}}})),e.get("p2").segments.forEach((function(e){"STUDENT_OF"==e.relationship.type&&(a["session"]=e.end.properties),"PROPOSAL_OWNER"==e.relationship.type&&(a["owner"]=e.end.properties,delete a["owner"]["password"],a.owner.avatar="".concat(T,"/media/avatar_").concat(a.owner.uid,".png"))}));var n=e.get("self_p");n.segments.forEach((function(e){if("SUPERVISES"==e.relationship.type&&(a["supervisor"]=e.start.properties,delete a["supervisor"]["password"],a.supervisor.avatar="".concat(T,"/media/avatar_").concat(a.supervisor.uid,".png")),"EVALUATES"==e.relationship.type){a.evaluator||(a.evaluator=[]);var t,r=!1,n=Object(P["a"])(a.evaluator);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.uid==e.start.properties.uid&&(r=!0)}}catch(s){n.e(s)}finally{n.f()}if(!r){var i=e.start.properties;delete i["password"],i.avatar="".concat(T,"/media/avatar_").concat(i.uid,".png"),a.evaluator.push(i)}}})),r.set(t.start.properties.uid,a)})),r.forEach((function(t,r){switch(t.status){case 0:t.type_color="danger",t.status_text="Rejected";break;case 1:t.status_text="Pending Evaluation";break;case 2:t.type_color="warning",t.status_text="Accepted with Condition";break;case 3:t.type_color="success",t.status_text="Accepted";break}e.proposals.push(Object(R["a"])({},t))})),t.close()}))},viewProposal:function(e){this.$router.push("detail?proposal_uid="+e.uid)}}};r("80ff");U.render=z,U.__scopeId="data-v-b2d46934";t["default"]=U},"4df4":function(e,t,r){"use strict";var n=r("0366"),a=r("7b0b"),o=r("9bdd"),i=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");e.exports=function(e){var t,r,l,d,p,f,v=a(e),b="function"==typeof this?this:Array,j=arguments.length,h=j>1?arguments[1]:void 0,O=void 0!==h,y=u(v),g=0;if(O&&(h=n(h,j>2?arguments[2]:void 0,2)),void 0==y||b==Array&&i(y))for(t=s(v.length),r=new b(t);t>g;g++)f=O?h(v[g],g):v[g],c(r,g,f);else for(d=y.call(v),p=d.next,r=new b;!(l=p.call(d)).done;g++)f=O?o(d,h,[l.value,g],!0):l.value,c(r,g,f);return r.length=g,r}},"4ec9":function(e,t,r){"use strict";var n=r("6d61"),a=r("6566");e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},6566:function(e,t,r){"use strict";var n=r("9bf2").f,a=r("7c73"),o=r("e2cc"),i=r("0366"),s=r("19aa"),c=r("2266"),u=r("7dd0"),l=r("2626"),d=r("83ab"),p=r("f183").fastKey,f=r("69f3"),v=f.set,b=f.getterFor;e.exports={getConstructor:function(e,t,r,u){var l=e((function(e,n){s(e,l,t),v(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=n&&c(n,e[u],{that:e,AS_ENTRIES:r})})),f=b(t),j=function(e,t,r){var n,a,o=f(e),i=h(e,t);return i?i.value=r:(o.last=i={index:a=p(t,!0),key:t,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=i),n&&(n.next=i),d?o.size++:e.size++,"F"!==a&&(o.index[a]=i)),e},h=function(e,t){var r,n=f(e),a=p(t);if("F"!==a)return n.index[a];for(r=n.first;r;r=r.next)if(r.key==t)return r};return o(l.prototype,{clear:function(){var e=this,t=f(e),r=t.index,n=t.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete r[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,r=f(t),n=h(t,e);if(n){var a=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=a),a&&(a.previous=o),r.first==n&&(r.first=a),r.last==n&&(r.last=o),d?r.size--:t.size--}return!!n},forEach:function(e){var t,r=f(this),n=i(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:r.first){n(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!h(this,e)}}),o(l.prototype,r?{get:function(e){var t=h(this,e);return t&&t.value},set:function(e,t){return j(this,0===e?0:e,t)}}:{add:function(e){return j(this,e=0===e?0:e,e)}}),d&&n(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",a=b(t),o=b(n);u(e,t,(function(e,t){v(this,{type:n,target:e,state:a(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,r=e.last;while(r&&r.removed)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},"6b75":function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},"6d61":function(e,t,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("94ca"),i=r("6eeb"),s=r("f183"),c=r("2266"),u=r("19aa"),l=r("861d"),d=r("d039"),p=r("1c7e"),f=r("d44e"),v=r("7156");e.exports=function(e,t,r){var b=-1!==e.indexOf("Map"),j=-1!==e.indexOf("Weak"),h=b?"set":"add",O=a[e],y=O&&O.prototype,g=O,m={},w=function(e){var t=y[e];i(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(j&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return j&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(j&&!l(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})},x=o(e,"function"!=typeof O||!(j||y.forEach&&!d((function(){(new O).entries().next()}))));if(x)g=r.getConstructor(t,e,b,h),s.REQUIRED=!0;else if(o(e,!0)){var E=new g,S=E[h](j?{}:-0,1)!=E,_=d((function(){E.has(1)})),k=p((function(e){new O(e)})),A=!j&&d((function(){var e=new O,t=5;while(t--)e[h](t,t);return!e.has(-0)}));k||(g=t((function(t,r){u(t,g,e);var n=v(new O,t,g);return void 0!=r&&c(r,n[h],{that:n,AS_ENTRIES:b}),n})),g.prototype=y,y.constructor=g),(_||A)&&(w("delete"),w("has"),b&&w("get")),(A||S)&&w(h),j&&y.clear&&delete y.clear}return m[e]=g,n({global:!0,forced:g!=O},m),f(g,e),j||r.setStrong(g,e,b),g}},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var o,i;return a&&"function"==typeof(o=t.constructor)&&o!==r&&n(i=o.prototype)&&i!==r.prototype&&a(e,i),e}},"80ff":function(e,t,r){"use strict";r("98a1")},"98a1":function(e,t,r){},"9bdd":function(e,t,r){var n=r("825a"),a=r("2a62");e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(i){throw a(e),i}}},a630:function(e,t,r){var n=r("23e7"),a=r("4df4"),o=r("1c7e"),i=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:a})},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");var n=r("06c5");function a(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(c)throw i}}}}},bb2f:function(e,t,r){var n=r("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d28b:function(e,t,r){var n=r("746f");n("iterator")},e01a:function(e,t,r){"use strict";var n=r("23e7"),a=r("83ab"),o=r("da84"),i=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),l=o.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(p,l);var f=p.prototype=l.prototype;f.constructor=p;var v=f.toString,b="Symbol(test)"==String(l("test")),j=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=v.call(e);if(i(d,e))return"";var r=b?t.slice(7,-1):t.replace(j,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},f183:function(e,t,r){var n=r("d012"),a=r("861d"),o=r("5135"),i=r("9bf2").f,s=r("90e3"),c=r("bb2f"),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},p=function(e){i(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},f=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!d(e))return"F";if(!t)return"E";p(e)}return e[u].objectID},v=function(e,t){if(!o(e,u)){if(!d(e))return!0;if(!t)return!1;p(e)}return e[u].weakData},b=function(e){return c&&j.REQUIRED&&d(e)&&!o(e,u)&&p(e),e},j=e.exports={REQUIRED:!1,fastKey:f,getWeakData:v,onFreeze:b};n[u]=!0},fb6a:function(e,t,r){"use strict";var n=r("23e7"),a=r("861d"),o=r("e8b5"),i=r("23cb"),s=r("50c4"),c=r("fc6a"),u=r("8418"),l=r("b622"),d=r("1dde"),p=d("slice"),f=l("species"),v=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,l,d=c(this),p=s(d.length),j=i(e,p),h=i(void 0===t?p:t,p);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?a(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return v.call(d,j,h);for(n=new(void 0===r?Array:r)(b(h-j,0)),l=0;j<h;j++,l++)j in d&&u(n,l,d[j]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-0fe94ba6.68376110.js.map